<!--------------------------- Incident Ticket Form ---------------------------->

<div class="container mt-4">
  <div class="card">
    <h2>Incident Form</h2>

    <form (ngSubmit)="save()">
      <!-- Incident Description -->
      <div class="form-group">
        <label>Incident Description</label>
        <input
          type="text"
          [(ngModel)]="incidentDescription"
          name="incidentDescription"
          class="form-control"
          id="incidentDescription"
          placeholder="Enter incident description"
        />
      </div>

      <!-- Incident Priority -->
      <div class="form-group">
        <label>Incident Priority</label>
        <select
          class="form-control"
          [(ngModel)]="incidentPriority"
          name="incidentPriority"
          id="incidentPriority"
        >
          <option>Low</option>
          <option>Medium</option>
          <option>High</option>
        </select>
      </div>

      <!-- Customer Information -->
      <div class="form-group">
        <label>Name</label>
        <input
          type="text"
          [(ngModel)]="customerName"
          name="customerName"
          class="form-control"
          id="customerName"
          placeholder="Enter Customer Name"
        />
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input
          type="tel"
          [(ngModel)]="customerPhoneNumber"
          name="customerPhoneNumber"
          class="form-control"
          id="customerPhoneNumber"
          placeholder="Enter Customer Phone Number"
        />
      </div>

      <div class="form-group">
        <label>Address</label>
        <input
          type="text"
          [(ngModel)]="customerAddress"
          name="customerAddress"
          class="form-control"
          id="customerAddress"
          placeholder="Enter customer address"
        />
      </div>

      <!-- Incident Narrative -->
      <div class="form-group">
        <label>Incident Narrative</label>
        <textarea
          class="form-control"
          [(ngModel)]="incidentNarrative"
          name="incidentNarrative"
          id="incidentNarrative"
          rows="3"
        ></textarea>
      </div>

      <!-- Buttons Section -->
      <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>

      <br />
      <br />
      <!--------------------------- Incident Ticket Form (put it separate file this dashboard section after********************) ---------------------------->
      <div class="container mt-4">
        <h1>Incident Dashboard</h1>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Incident Description</th>
              <th scope="col">Incident Priority</th>
              <th scope="col">Name</th>
              <th scope="col">Phone Number</th>
              <th scope="col">Address</th>
              <th scope="col">Incident Narrative</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let IncidentItem of IncidentArray">
              <td>{{ IncidentItem.incidentDescription }}</td>
              <td>{{ IncidentItem.incidentPriority }}</td>
              <td>{{ IncidentItem.customerName }}</td>
              <td>{{ IncidentItem.customerPhoneNumber }}</td>
              <td>{{ IncidentItem.customerAddress }}</td>
              <td>{{ IncidentItem.incidentNarrative }}</td>
              <td>
                <button
                  type="button"
                  class="btn btn-success"
                  (click)="setUpdate(IncidentItem)"
                >
                  Update
                </button>
                <button
                  type="button"
                  class="btn btn-danger"
                  (click)="setDelete(IncidentItem)"
                >
                  Delete
                </button>
              </td>
              <td>
                <button
                  type="button"
                  class="btn btn-danger"
                  (click)="confirmCloseIncident(IncidentItem)"
                >
                  Close
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- Button to open the Closed Incidents Dashboard -->
        <div class="container mt-4">
          <button
            type="button"
            class="btn btn-primary"
            (click)="openClosedIncidentsDashboard()"
          >
            View Closed Incidents
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
